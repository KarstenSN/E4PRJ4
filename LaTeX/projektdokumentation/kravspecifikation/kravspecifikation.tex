\chapter{Kravspecifikation} \label{ch:kravspecifikation}

%---------------------------------------------------------------------------------------
%											AKTØR-KONTEKSTDIAGRAM
%---------------------------------------------------------------------------------------

\section{Aktør-kontekstdiagram} \label{sec:aktor-kontekstdiagram}

\begin{figure}[h]
\centering
\includegraphics[width=\textwidth - 3 cm]{../fig/diagrammer/ac_au2.pdf}
\caption{Aktør kontekst diagram for AU2.}
\label{fig:aktor_kontekst}
\end{figure}

%---------------------------------------------------------------------------------------
%											AKTØRBESKRIVELSER
%---------------------------------------------------------------------------------------

\section{Aktørbeskrivelser} \label{sec:aktorbeskrivelser}
\subsubsection{Bruger - Primær Aktør}
Bruger kan:
\begin{itemize}
\item Starte og stoppe systemet 
\item Styre bilen over et netværk.
\item Deaktivere og aktivere anti-kollisionssystem.
\item (Vælge forskellige grader af anti-kollisionssystem??)
% Der menes her, at det skal være muligt at vælge imellem bremse- og styreting skal være aktivt eller ej.
\end{itemize}
\clearpage

% --------------------------------------------------------------------------------------
%												USE CASES
% --------------------------------------------------------------------------------------
\section{Use Cases}

\begin{figure}[h]
\centering
\includegraphics[width=\textwidth - 1 cm]{../fig/diagrammer/uc_au2.pdf}
\caption{Use Case diagram for AU2.}
\label{fig:UC_au2}
\end{figure}
\clearpage

%----------------------------------------------------------------------------------------
%								Use Case beskrivelser - Initiering og Formål
%----------------------------------------------------------------------------------------

\subsection{Use Case beskrivelser - Initiering og Formål} 
\subsubsection{UC1: Aktiver system}
Initieres af: Bruger

Denne UC giver Bruger mulighed for at aktiver systemet. Herunder opsættes bilen, UC2 + UC3 initieres og PC'en fremkommer med hovedmenuen. 

\subsubsection{UC2: Stream Video}
Initieres af: UC1: Aktiver system

Denne UC initierer videostream fra kameraet, og kommunikation over Wi-Fi netværket oprettes.

\subsubsection{UC3: Overvåg sensorer}
Initieres af: UC1: Aktiver system

Denne UC initierer overvågning af bilens sensorer, herunder, de 4 afstandssensorer, tachometer, samt accelerometer. 

\subsubsection{UC4: Aktiver AKS}
Initieres af: UC3: Overvåg sensorer

Denne UC har til formål at lade AKS overtage styring af bilen under kørsel hvis en forhindring detekteres enten foran eller bagved bilen.
Når forhindringen er undveget overgives styringen igen til Bruger.

\subsubsection{UC5: Kør bil frem/tilbage}
Initieres af: Bruger

Denne UC har til formål at give Bruger mulighed for at ændre hastighed på bilen via  de trykfølsomme ''LT'' og ''RT''-knapper på HID controlleren. Bruger trykker på LT og bilen kører fremad, eller Bruger trykker på ''RT'' og bilen bakker.

\subsubsection{UC6: Drej bil til højre/venstre}
Initieres af: Bruger

Denne UC har til formål at lade Bruger ændre bilens retning. Bruger benytter venstre styrepind på HID controlleren. Føres styrepinden til venstre, drejer bilen til ligeledes til venstre. Føres styrepinden til højre, drejer bilen ligeledes til højre. 

\subsubsection{UC7: Brems bil}
Initieres af: Bruger

Denne UC har til formål at lade Bruger sænke bilens hastighed. Bruger trykker ''X''-knappen på HID controlleren, jo længere tid knappen holdes nede jo mere bremser bilen. 

\subsubsection{UC8: Konfigurer IP}
Initieres af: Bruger

Denne UC har til formål at lade Bruger konfigurere PC'ens IP-adresse således at der kan opnås forbindelse til bilen.  

\subsubsection{UC9: Tænd/sluk AKS}
Initieres af: Bruger

Denne UC har til formål at give Bruger mulighed for at vælge om AKS skal være til- eller afkoblet. bruger kan via ''Hovedmenu'' på PC'en vælge status for AKS. 

\subsubsection{UC10: Indstil makshastighed}
Initieres af: Bruger

Denne UC har til formål at give Bruger mulighed for at indstille en maksimumhastighed på bilen. Hastigheden indstilles via PC'ens ''Hovedmenu''.

\subsubsection{UC11: Kalibrer system}
Initieres af: Bruger

Denne UC har til formål at give Bruger mulighed for at kalibrere bilens styretøj. Bruger indtaster via menuen ''Kalibrer styretøj'' en passende ''center''-værdi i intervallet -50 til 50.  

\subsubsection{UC12: Afbryd system}
Initieres af: Bruger

Denne UC har til formål at lade Bruger afbryde hele systemet. Bruger afslutter software på PC, og sætte bilen ''ON/OFF''-knap til 'OFF' for at afbryde forbindelse til batteriet. 
\clearpage

%-----------------------------------------------------------------
%					Use Case fully dressed
%-----------------------------------------------------------------

\section{Use Cases} \label{sec:use_cases}
>>>>>>> 4f301fe617769cd5291bd6a2cf549e213732459b

% UC1:  Aktiver system
\input{Kravspecifikation/fully_dressed/uc1}
\clearpage

% UC2: Stream Videofeed
\input{Kravspecifikation/fully_dressed/uc2}
\clearpage

% UC3: Overvåg sensor
\input{Kravspecifikation/fully_dressed/uc3}
\clearpage

% UC4: Aktiver AKS
\input{Kravspecifikation/fully_dressed/uc4}
\clearpage

% UC5: Kør bil frem/tilbage
\input{Kravspecifikation/fully_dressed/uc5}
\clearpage

% UC6: Drej bil til højre/Venstre
\input{Kravspecifikation/fully_dressed/uc6}
\clearpage

% UC7: Brems bil
\input{Kravspecifikation/fully_dressed/uc7}
\clearpage

% UC8: Konfigurer system
\input{Kravspecifikation/fully_dressed/uc8}
\clearpage

% UC9: Tænd/sluk AKS
\input{Kravspecifikation/fully_dressed/uc9}
\clearpage

% UC10: Indstil maks. hastighed
\input{Kravspecifikation/fully_dressed/uc10}
\clearpage

% UC11: Kalibrer system
\input{Kravspecifikation/fully_dressed/uc11}
\clearpage

% UC12: Afbryd system
\input{Kravspecifikation/fully_dressed/uc12}
\clearpage
%---------------------------------------------------------------------------------------
%											FUNKTIONELLE KRAV
%---------------------------------------------------------------------------------------

\section{Funktionelle krav} \label{sec:funktionelle_krav}
Systemet\ldots
\begin{enumerate}\itemsep1pt \parskip0pt \parsep0pt
	\item \ldots  \emph{Skal} kunne køre frem og tilbage.
	\item \ldots  \emph{Skal} kunne dreje.
	\item \ldots  \emph{Skal} kunne regulere hastigheden på bilen.
	\item \ldots  \emph{Skal} give Bruger mulighed for at begrænse maksimumshastighed.
	\item \ldots  \emph{Skal} give Bruger mulighed for manuel styring af hastighed og retning.
	\item \ldots  \emph{Skal} via Wi-Fi kunne kommunikere mellem bil og computer.
	\item \ldots  \emph{Skal} kunne identificere forhindringer foran og bag bilen.
	\item \ldots  \emph{Skal} indholde et anti-kollisionssystem baseret på afstandssensorer.
	\item \ldots  \emph{Skal} via. anti-kollisionssystemet kunne undvige og/eller stoppe før kollision.
	\item \ldots  \emph{Skal} indeholde et kamera til at streame video.
	\item \ldots  \emph{Bør} give Bruger mulighed for at aktivere/deaktivere anti-kollisionssystemet på bilen.
	\item \ldots  \emph{Kan} indeholde en batteriniveau-indikator.
\end{enumerate}
\clearpage

%---------------------------------------------------------------------------------------
%											IKKE-FUNKTIONELLE KRAV
%---------------------------------------------------------------------------------------

\section{Ikke-funktionelle krav} \label{sec:ikke-funktionelle_krav}
\begin{enumerate}\itemsep1pt \parskip0pt \parsep0pt
	\item Bilens maksimumshastighed uden begrænsning er 20km/t $\pm$ 5\% %TODO Passer denne?
	\item Bilens bremselængde ved maksimumshastighed uden begrænsning må ikke overstige 1 m. %TODO Passer denne?
	\item Bilen skal kunne accelerere fra 0 km/t til maksimumshastighed uden begrænsning på højest 6 s. %TODO Passer denne?
	\item Forsinkelse fra brugerinput til at bilen reagerer må ikke overstige 50ms. %TODO Passer denne?
	\item Afstandssensorerne skal kunne identificere en forhindring på mindst $(30cm \times 30cm)$ på en maksimal afstand af 6 m. %TODO Passer denne, EMC - spørg vejleder?
	\item Mister bilen forbindelsen med computeren i mere end 50ms, standser bilen automatisk. 
	\item Kameraet skal minimum have en opdateringshastighed på 15 billeder i sekundet. %TODO undersøg!
	\item Systemet skal vise video-feed med en opløsning på $640 \times 480$ pixels.
	\item Computeren skal som minimum sende kommandoer til bilen 60 gange i sekundet. 
	\item HID skal bestå af en XBOX360 controller og tastatur.
\end{enumerate}
\clearpage
